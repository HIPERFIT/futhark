// Fails if the scan2 is rewritten to be in-place (consume md_st)
// during first-order transform.

fun real main([[[real]]] bb_mat, [[real]] e_rows) =
  let md_st = [42.0] in
  let {a} = map2(fn {[[real]]} ([[real]] bb_arr_431) =>
                 scan2(fn {[real]} ([real] x_657, [real] y_658) => {[2.0]},
                       md_st, e_rows)
                 , bb_mat) in
  a[0,0,0]
