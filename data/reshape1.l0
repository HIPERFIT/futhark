fun int intsqrt(int x) =
    trunc(sqrt(toReal(x)))

fun [[int]] main ([int] a) =
    let {n} = shape(a) in
    reshape((intsqrt(n), intsqrt(n)), a)
